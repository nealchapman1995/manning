<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Manning</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/1e3c0f094b.js" crossorigin="anonymous"></script>
</head>

<body class="container">
    <ul class="nav nav-tabs justify-content-center">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="/">Soldiers</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/squads">Squads</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/weapons">Weapons</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/vehicles">Vehicles</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/keys">Keys</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/buildings">Buildings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/key_holders">Key Holders</a>
          </li>
      </ul>
    
    <h1>Welcome to the Manning Report!</h1>
    
    <h5>Please see the following Manning report for each squad</h5>
    
    

      <div>
        <h1>List of Keys</h1>


        <table class="table">
            <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Key Number</th>
                <th scope="col">Key Description</th>
                <th scope="col">Vehicle ID</th>
                <th scope="col">Building ID</th>
                <th scope="col">Delete</th>
              </tr>
            </thead>
            <tbody>
              <% for (let key of keys) {%>
                <tr>
                    <th scope="row"><%= key.key_id%></th>
                    <td><%= key.key_number%></td>
                    <td><%= key.key_description%></td>
                    <td><%= key.Vehicles_vehicle_id%></td>
                    <td><%= key.Buildings_building_id%></td>
                    <td><form action="/keys/delete/<%= key.key_id%>?_method=DELETE" method="POST"><button class="fa-solid fa-delete-left"></button></form></td>
                </tr>
              <%}%>
            </tbody>
          </table>

          <h5>Add a new Key</h5>

          <form action="/keys/new" method="POST">
            <div class="mb-3">
              <label for="keynumber" class="form-label">Key Number</label>
              <input type="number" class="form-control" id="keynumber" name="key[number]">
            </div>
            <div class="mb-3">
              <label for="keydescription" class="form-label">Key Description</label>
              <input type="text" class="form-control" id="keydescription" name="key[description]">
            </div>
            <div class="mb-3">
                <label for="vehicleID" class="form-label">Vehicle ID</label>
                <select class="form-select" aria-label="Default select example" id="vehicleID" name="key[vehicleid]">
                    <option value="NULL">No Vehicle</option>
                    <% for (let vehicle of vehicles) {%>
                      <option value="<%= vehicle.vehicle_id%>"><%= vehicle.vehicle_id%></option>
                      <%}%>
                  </select>
              </div>
              <div class="mb-3">
                <label for="buildingID" class="form-label">Building ID</label>
                <select class="form-select" aria-label="Default select example" id="buildingID" name="key[buildingid]">
                    <option value="NULL">No Building</option>
                    <% for (let building of buildings) {%>
                      <option value="<%= building.building_id%>"><%= building.building_id%></option>
                      <%}%>
                  </select>
              </div>
    
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>

          <h5>Edit a Key</h5>

          <form action="/keys/edit/?_method=PUT" method="POST">
            <div class="mb-3">
                <label for="keyID" class="form-label">Key ID</label>
                <select class="form-select" aria-label="Default select example" id="keyID" name="key[id]">
                  <% for (let key of keys) {%>
                    <option value="<%= key.key_id%>"><%= key.key_id%></option>
                    <%}%>
                  </select>
              </div>
            
              <div class="mb-3">
                <label for="keynumber" class="form-label">Key Number</label>
                <input type="number" class="form-control" id="keynumber" name="key[number]">
              </div>
              <div class="mb-3">
                <label for="keydescription" class="form-label">Key Description</label>
                <input type="text" class="form-control" id="keydescription" name="key[description]">
              </div>
              <div class="mb-3">
                <label for="vehicleID" class="form-label">Vehicle ID</label>
                <select class="form-select" aria-label="Default select example" id="vehicleID" name="key[vehicleid]">
                  <option value="NULL">No Vehicle</option>
                  <% for (let vehicle of vehicles) {%>
                    <option value="<%= vehicle.vehicle_id%>"><%= vehicle.vehicle_id%></option>
                    <%}%>
                  </select>
              </div>
              <div class="mb-3">
                <label for="buildingID" class="form-label">Building ID</label>
                <select class="form-select" aria-label="Default select example" id="buildingID" name="key[buildingid]">
                  <option value="NULL">No Building</option>
                  <% for (let building of buildings) {%>
                    <option value="<%= building.building_id%>"><%= building.building_id%></option>
                    <%}%>
                  </select>
              </div>
    
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
    
</body>